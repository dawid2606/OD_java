package jpa;

import java.util.List;

import javax.persistence.*;
import entities.Spectacle;

public class SpectacleHandler {
	
	@PersistenceContext
    EntityManagerFactory emfactory = Persistence.createEntityManagerFactory( "Teatr" );
    EntityManager em = emfactory.createEntityManager();
	
	public List<Spectacle> getAllSpectacles(){
		Query query =em.createNamedQuery("Spectacle.SelectAll");
		List<Spectacle> list=(List<Spectacle>)query.getResultList();
		return list;
		}
	
	public static void main (String args[]){     
	      
		SpectacleHandler tr=new SpectacleHandler();
		
		List <Spectacle> list= tr.getAllSpectacles();
		for(Spectacle l : list){
			System.out.println(l);
		}

	}

}
